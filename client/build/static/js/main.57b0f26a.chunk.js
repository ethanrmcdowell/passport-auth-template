(this["webpackJsonppassport-template"]=this["webpackJsonppassport-template"]||[]).push([[0],{50:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(18),s=n.n(r),c=n(10),o=n(19),i=n.n(o),u=n(12),j=n(26),l=n(36),p=n.n(l),b=n(37),d=n(38),h={key:"root",storage:p.a,stateReconciler:i.a},O={email:"",password:"",jwtToken:"",loggedIn:!1},m=Object(d.composeWithDevTools)(Object(u.applyMiddleware)(b.a)),x=Object(j.a)(h,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"userLogin":return{email:t.email,password:t.password,jwtToken:t.jwtToken,loggedIn:!0};case"userLogout":return O;default:return e}})),f=Object(u.createStore)(x,m),g=Object(j.b)(f),w=n(23),v=n(3),y=(n(50),n(11)),k=n.n(y),S=n(15),D=n(1),C=function(e){var t=Object(c.c)((function(e){return e})),n=Object(c.b)(),a=function(){var t=Object(S.a)(k.a.mark((function t(a){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,n({type:"userLogout"});case 3:e.history.push("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("h2",{children:["This is the secure dashboard! You're logged in ",t.email,"!!"]}),Object(D.jsx)("button",{onClick:a,children:"Logout"}),Object(D.jsx)("button",{onClick:function(e){e.preventDefault(),console.log(t)},children:"Log Redux Store"})]})},L=function(e){return Object(c.c)((function(e){return e.loggedIn}))?Object(D.jsx)(v.b,{path:"/dashboard",component:C}):Object(D.jsx)(v.a,{to:"/"})},F=n(13),T=n(9),I=n(16),P=n(20),E=n.n(P),R=function(e){var t=Object(a.useState)({email:"",password:"",jwtToken:""}),n=Object(I.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)(""),i=Object(I.a)(o,2),u=i[0],j=i[1],l=Object(c.b)(),p=Object(c.c)((function(e){return e})),b=function(e){e.preventDefault(),s(Object(T.a)(Object(T.a)({},r),{},Object(F.a)({},e.target.name,e.target.value)))},d=function(){var t=Object(S.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,E.a.post("http://localhost:3000/login?email=".concat(r.email,"&password=").concat(r.password)).then((function(e){e&&l({type:"userLogin",email:r.email,password:r.password,jwtToken:e.data.token,loggedIn:!0})})).then((function(){e.history.push("/dashboard")})).catch((function(e){return j("Error!")}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{children:"Login"}),Object(D.jsxs)("form",{onSubmit:d,children:[Object(D.jsxs)("label",{htmlFor:"email",children:["Email:",Object(D.jsx)("input",{type:"text",name:"email",onChange:b})]}),Object(D.jsxs)("label",{htmlFor:"password",children:["Password:",Object(D.jsx)("input",{type:"password",name:"password",onChange:b})]}),Object(D.jsx)("input",{className:"submitButton",type:"submit",value:"Submit"})]}),Object(D.jsx)("p",{children:u}),Object(D.jsxs)("p",{children:["Don't have an account? ",Object(D.jsx)("a",{href:"/signup",children:"Sign up!"})]}),Object(D.jsxs)("p",{children:["Already logged in? Head to your ",Object(D.jsx)("a",{href:"/dashboard",children:"dashboard"}),"!"]}),Object(D.jsx)("button",{onClick:function(e){e.preventDefault(),console.log(p)},children:"Log Redux Store"})]})},B=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(I.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(""),o=Object(I.a)(c,2),i=o[0],u=o[1],j=function(e){e.preventDefault(),s(Object(T.a)(Object(T.a)({},r),{},Object(F.a)({},e.target.name,e.target.value)))},l=function(){var e=Object(S.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s(Object(T.a)(Object(T.a)({},r),{},Object(F.a)({},t.target.name,t.target.value))),r.password===r.passwordrepeat){e.next=6;break}u("Passwords do not match"),e.next=8;break;case 6:return e.next=8,E.a.post("https://thirsty-mayer-853aec.netlify.app/signup?email=".concat(r.email,"&password=").concat(r.password)).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h2",{children:"Signup"}),Object(D.jsxs)("form",{onSubmit:l,children:[Object(D.jsxs)("label",{htmlFor:"email",children:["Email:",Object(D.jsx)("input",{type:"text",name:"email",onChange:j})]}),Object(D.jsxs)("label",{htmlFor:"password",children:["Password:",Object(D.jsx)("input",{type:"password",name:"password",onChange:j})]}),Object(D.jsxs)("label",{htmlFor:"passwordrepeat",children:["Re-enter Password:",Object(D.jsx)("input",{type:"password",name:"passwordrepeat",onChange:j})]}),Object(D.jsx)("input",{className:"submitButton",type:"submit",value:"Submit"})]}),Object(D.jsx)("p",{className:"signupMessage",children:i}),Object(D.jsxs)("p",{children:["Already have an account? ",Object(D.jsx)("a",{href:"/",children:"Login!"})]}),Object(D.jsx)("button",{onClick:function(e){e.preventDefault()},children:"Test"})]})};var N=function(){return Object(D.jsx)(w.a,{children:Object(D.jsxs)(v.d,{children:[Object(D.jsx)(v.b,{exact:!0,path:"/",component:R}),Object(D.jsx)(v.b,{exact:!0,path:"/signup",component:B}),Object(D.jsx)(L,{})]})})};s.a.render(Object(D.jsx)(c.a,{store:f,children:Object(D.jsx)(o.PersistGate,{persistor:g,children:Object(D.jsx)(N,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.57b0f26a.chunk.js.map