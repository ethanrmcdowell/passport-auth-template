(this["webpackJsonppassport-template"]=this["webpackJsonppassport-template"]||[]).push([[0],{50:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(17),c=n.n(s),r=n(6),o=n(18),i=n.n(o),j=n(11),u=n(26),l=n(36),b=n.n(l),p=n(37),d=n(38),h={key:"root",storage:b.a,stateReconciler:i.a},O={email:"",password:"",jwtToken:"",loggedIn:!1},m=Object(d.composeWithDevTools)(Object(j.applyMiddleware)(p.a)),x=Object(u.a)(h,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"userLogin":return{email:t.email,password:t.password,jwtToken:t.jwtToken,loggedIn:!0};case"userLogout":return O;default:return e}})),g=Object(j.createStore)(x,m),f=Object(u.b)(g),w=n(23),v=n(3),y=(n(50),n(12)),k=n(10),S=n(13),D=n(19),C=n.n(D),L=n(1),F=function(e){var t=Object(a.useState)({email:"",password:"",jwtToken:""}),n=Object(S.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(S.a)(o,2),j=(i[0],i[1]),u=Object(a.useState)(""),l=Object(S.a)(u,2),b=l[0],p=(l[1],Object(r.b)()),d=Object(r.c)((function(e){return e})),h=function(e){e.preventDefault(),c(Object(k.a)(Object(k.a)({},s),{},Object(y.a)({},e.target.name,e.target.value)))};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("h2",{children:"Login"}),Object(L.jsxs)("form",{onSubmit:function(t){t.preventDefault(),C.a.post("http://localhost:3000/login?email=".concat(s.email,"&password=").concat(s.password)).then((function(e){e&&(j(!0),p({type:"userLogin",email:s.email,password:s.password,jwtToken:e.data.token,loggedIn:!0}))})).then((function(){e.history.push("/dashboard")}))},children:[Object(L.jsxs)("label",{htmlFor:"email",children:["Email:",Object(L.jsx)("input",{type:"text",name:"email",onChange:h})]}),Object(L.jsxs)("label",{htmlFor:"password",children:["Password:",Object(L.jsx)("input",{type:"password",name:"password",onChange:h})]}),Object(L.jsx)("input",{className:"submitButton",type:"submit",value:"Submit"})]}),Object(L.jsx)("p",{children:b}),Object(L.jsxs)("p",{children:["Don't have an account? ",Object(L.jsx)("a",{href:"/signup",children:"Sign up!"})]}),Object(L.jsxs)("p",{children:["Already logged in? Head to your ",Object(L.jsx)("a",{href:"/dashboard",children:"dashboard"}),"!"]}),Object(L.jsx)("button",{onClick:function(e){e.preventDefault(),console.log(d)},children:"Log Redux Store"})]})},T=n(15),I=n.n(T),P=n(20),R=function(e){var t=Object(r.c)((function(e){return e})),n=Object(r.b)(),a=function(){var t=Object(P.a)(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,n({type:"userLogout"});case 3:e.history.push("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("h2",{children:["This is the secure dashboard! You're logged in ",t.email,"!!"]}),Object(L.jsx)("button",{onClick:a,children:"Logout"}),Object(L.jsx)("button",{onClick:function(e){e.preventDefault(),console.log(t)},children:"Log Redux Store"})]})},B=function(e){return Object(r.c)((function(e){return e.loggedIn}))?Object(L.jsx)(v.b,{path:"/dashboard",component:R}):Object(L.jsx)(v.a,{to:"/"})},E=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(S.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(""),i=Object(S.a)(o,2),j=i[0],u=i[1],l=(Object(r.b)(),Object(r.c)((function(e){return e})),function(e){e.preventDefault(),c(Object(k.a)(Object(k.a)({},s),{},Object(y.a)({},e.target.name,e.target.value)))}),b=function(){var e=Object(P.a)(I.a.mark((function e(t,n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c(Object(k.a)(Object(k.a)({},s),{},Object(y.a)({},t.target.name,t.target.value))),s.password===s.passwordrepeat){e.next=6;break}u("Passwords do not match"),e.next=8;break;case 6:return e.next=8,C.a.post("http://localhost:3000/signup?email=".concat(s.email,"&password=").concat(s.password)).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("h2",{children:"Signup"}),Object(L.jsxs)("form",{onSubmit:b,children:[Object(L.jsxs)("label",{htmlFor:"email",children:["Email:",Object(L.jsx)("input",{type:"text",name:"email",onChange:l})]}),Object(L.jsxs)("label",{htmlFor:"password",children:["Password:",Object(L.jsx)("input",{type:"password",name:"password",onChange:l})]}),Object(L.jsxs)("label",{htmlFor:"passwordrepeat",children:["Re-enter Password:",Object(L.jsx)("input",{type:"password",name:"passwordrepeat",onChange:l})]}),Object(L.jsx)("input",{className:"submitButton",type:"submit",value:"Submit"})]}),Object(L.jsx)("p",{className:"signupMessage",children:j}),Object(L.jsxs)("p",{children:["Already have an account? ",Object(L.jsx)("a",{href:"/",children:"Login!"})]}),Object(L.jsx)("button",{onClick:function(e){e.preventDefault()},children:"Test"})]})};var N=function(){return Object(L.jsx)(w.a,{children:Object(L.jsxs)(v.d,{children:[Object(L.jsx)(v.b,{exact:!0,path:"/",component:F}),Object(L.jsx)(v.b,{exact:!0,path:"/signup",component:E}),Object(L.jsx)(B,{})]})})};c.a.render(Object(L.jsx)(r.a,{store:g,children:Object(L.jsx)(o.PersistGate,{persistor:f,children:Object(L.jsx)(N,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.b51dc97f.chunk.js.map